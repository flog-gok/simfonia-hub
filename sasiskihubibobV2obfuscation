local config = {
    name = "KeySystemCoreGUI",
    freeScript = "https://raw.githubusercontent.com/flog-gok/simfonia-hub/refs/heads/main/free",
    paidScript = "https://raw.githubusercontent.com/flog-gok/simfonia-hub/refs/heads/main/paid"
}

local coreGui = game:GetService("CoreGui")
local tweenService = game:GetService("TweenService")
local userInputService = game:GetService("UserInputService")

-- Destroy existing GUI if it exists
if coreGui:FindFirstChild(config.name) then
    coreGui[config.name]:Destroy()
end

-- Secure key list (32-character random alphanumeric strings)
local keys = {
    "7a9f3b2c1d8e4f6a9b3c2d1e8f7a9b3c",
    "4e8c1a9f3b2d7e6a4c9b3f1d2e8a7c6b",
    "9b3f2c1a8e7d4f6a9c3b2e1d7a8f6c4e",
    "2d7a9f3c1b8e4a6d9f3c2b1e7a8d6c4f",
    "6b3e1a9f7c2d8a4f6e9c3b1d2a7f8c6e",
    "1a8f3c2b9e7d4a6f9c3e1b2d8a7f6c4e",
    "8c4a9f3b2e7d1a6f9c3b2e1d8a7f6c4e",
    "3f9b2c1a8e7d4a6f9c3b2e1d8a7f6c4e",
    "7e3a9f2c1b8d4a6f9c3b2e1d8a7f6c4e",
    "2c8f3a9b1e7d4a6f9c3b2e1d8a7f6c4e",
    "9f4a3c2b8e7d1a6f9c3b2e1d8a7f6c4e",
    "1b7e9f3c2a8d4a6f9c3b2e1d8a7f6c4e",
    "6a9f3c2b8e7d1a4f9c3b2e1d8a7f6c4e",
    "4c2a9f3b8e7d1a6f9c3b2e1d8a7f6c4e",
    "8f3a9c2b1e7d4a6f9c3b2e1d8a7f6c4e",
    "3b9f2c1a8e7d4a6f9c3b2e1d8a7f6c4e",
    "7e2a9f3c1b8d4a6f9c3b2e1d8a7f6c4e",
    "2c8f3a9b1e7d4a6f9c3b2e1d8a7f6c4e",
    "9f4a3c2b8e7d1a6f9c3b2e1d8a7f6c4e",
    "1b7e9f3c2a8d4a6f9c3b2e1d8a7f6c4e",
    "6a9f3c2b8e7d1a4f9c3b2e1d8a7f6c4e",
    "4c2a9f3b8e7d1a6f9c3b2e1d8a7f6c4e",
    "8f3a9c2b1e7d4a6f9c3b2e1d8a7f6c4e",
    "3b9f2c1a8e7d4a6f9c3b2e1d8a7f6c4e",
    "7e2a9f3c1b8d4a6f9c3b2e1d8a7f6c4e",
    "2c8f3a9b1e7d4a6f9c3b2e1d8a7f6c4e",
    "9f4a3c2b8e7d1a6f9c3b2e1d8a7f6c4e",
    "1b7e9f3c2a8d4a6f9c3b2e1d8a7f6c4e",
    "6a9f3c2b8e7d1a4f9c3b2e1d8a7f6c4e",
    "4c2a9f3b8e7d1a6f9c3b2e1d8a7f6c4e",
    "8f3a9c2b1e7d4a6f9c3b2e1d8a7f6c4e",
    "3b9f2c1a8e7d4a6f9c3b2e1d8a7f6c4e",
    "7e2a9f3c1b8d4a6f9c3b2e1d8a7f6c4e",
    "2c8f3a9b1e7d4a6f9c3b2e1d8a7f6c4e",
    "9f4a3c2b8e7d1a6f9c3b2e1d8a7f6c4e",
    "1b7e9f3c2a8d4a6f9c3b2e1d8a7f6c4e",
    "6a9f3c2b8e7d1a4f9c3b2e1d8a7f6c4e",
    "4c2a9f3b8e7d1a6f9c3b2e1d8a7f6c4e",
    "8f3a9c2b1e7d4a6f9c3b2e1d8a7f6c4e",
    "3b9f2c1a8e7d4a6f9c3b2e1d8a7f6c4e",
    "7e2a9f3c1b8d4a6f9c3b2e1d8a7f6c4e",
    "2c8f3a9b1e7d4a6f9c3b2e1d8a7f6c4e",
    "9f4a3c2b8e7d1a6f9c3b2e1d8a7f6c4e",
    "1b7e9f3c2a8d4a6f9c3b2e1d8a7f6c4e",
    "6a9f3c2b8e7d1a4f9c3b2e1d8a7f6c4e",
    "4c2a9f3b8e7d1a6f9c3b2e1d8a7f6c4e",
    "8f3a9c2b1e7d4a6f9c3b2e1d8a7f6c4e",
    "3b9f2c1a8e7d4a6f9c3b2e1d8a7f6c4e",
    "7e2a9f3c1b8d4a6f9c3b2e1d8a7f6c4e",
    "2c8f3a9b1e7d4a6f9c3b2e1d8a7f6c4e",
    "9f4a3c2b8e7d1a6f9c3b2e1d8a7f6c4e",
    "1b7e9f3c2a8d4a6f9c3b2e1d8a7f6c4e",
    "6a9f3c2b8e7d1a4f9c3b2e1d8a7f6c4e",
    "4c2a9f3b8e7d1a6f9c3b2e1d8a7f6c4e",
    "8f3a9c2b1e7d4a6f9c3b2e1d8a7f6c4e",
    "3b9f2c1a8e7d4a6f9c3b2e1d8a7f6c4e",
    "7e2a9f3c1b8d4a6f9c3b2e1d8a7f6c4e",
    "2c8f3a9b1e7d4a6f9c3b2e1d8a7f6c4e",
    "9f4a3c2b8e7d1a6f9c3b2e1d8a7f6c4e",
    "1b7e9f3c2a8d4a6f9c3b2e1d8a7f6c4e"
}

-- Create key lookup table
local keyLookup = {}
for _, key in pairs(keys) do
    keyLookup[key] = true
end

-- Create GUI
local screenGui = Instance.new("ScreenGui")
screenGui.Name = config.name
screenGui.Parent = coreGui
screenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

local mainFrame = Instance.new("Frame")
mainFrame.Size = UDim2.new(0, 320, 0, 240)
mainFrame.Position = UDim2.new(0.5, -160, 0.5, -120)
mainFrame.AnchorPoint = Vector2.new(0.5, 0.5)
mainFrame.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
mainFrame.BorderSizePixel = 0
mainFrame.BackgroundTransparency = 1
mainFrame.Parent = screenGui

local corner = Instance.new("UICorner")
corner.CornerRadius = UDim.new(0, 12)
corner.Parent = mainFrame

local titleLabel = Instance.new("TextLabel")
titleLabel.Text = "üîê Key Verification"
titleLabel.Size = UDim2.new(0, 280, 0, 40)
titleLabel.Position = UDim2.new(0.5, -140, 0, 20)
titleLabel.Font = Enum.Font.GothamBold
titleLabel.TextSize = 20
titleLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
titleLabel.BackgroundTransparency = 1
titleLabel.TextTransparency = 1
titleLabel.Parent = mainFrame

local closeButton = Instance.new("TextButton")
closeButton.Text = "‚úñ"
closeButton.Size = UDim2.new(0, 30, 0, 30)
closeButton.Position = UDim2.new(1, -40, 0, 10)
closeButton.Font = Enum.Font.GothamBold
closeButton.TextSize = 16
closeButton.TextColor3 = Color3.fromRGB(255, 255, 255)
closeButton.BackgroundColor3 = Color3.fromRGB(255, 50, 50)
closeButton.TextTransparency = 1
closeButton.BackgroundTransparency = 1
closeButton.Parent = mainFrame

local closeButtonCorner = Instance.new("UICorner")
closeButtonCorner.CornerRadius = UDim.new(0, 8)
closeButtonCorner.Parent = closeButton

local keyInput = Instance.new("TextBox")
keyInput.PlaceholderText = "Enter key (32 characters)..."
keyInput.Size = UDim2.new(0, 280, 0, 50)
keyInput.Position = UDim2.new(0.5, -140, 0, 70)
keyInput.Font = Enum.Font.Gotham
keyInput.TextSize = 16
keyInput.TextColor3 = Color3.fromRGB(0, 0, 0)
keyInput.BackgroundColor3 = Color3.fromRGB(245, 245, 245)
keyInput.BackgroundTransparency = 1
keyInput.TextTransparency = 1
keyInput.ClearTextOnFocus = false
keyInput.Parent = mainFrame

local inputCorner = Instance.new("UICorner")
inputCorner.CornerRadius = UDim.new(0, 8)
inputCorner.Parent = keyInput

local verifyButton = Instance.new("TextButton")
verifyButton.Text = "Verify"
verifyButton.Size = UDim2.new(0, 280, 0, 50)
verifyButton.Position = UDim2.new(0.5, -140, 0, 130)
verifyButton.Font = Enum.Font.GothamBold
verifyButton.TextSize = 16
verifyButton.TextColor3 = Color3.fromRGB(255, 255, 255)
verifyButton.BackgroundColor3 = Color3.fromRGB(0, 200, 0)
verifyButton.TextTransparency = 1
verifyButton.BackgroundTransparency = 1
verifyButton.Parent = mainFrame

local buttonCorner = Instance.new("UICorner")
buttonCorner.CornerRadius = UDim.new(0, 8)
buttonCorner.Parent = verifyButton

local buttonStroke = Instance.new("UIStroke")
buttonStroke.Color = Color3.fromRGB(0, 150, 0)
buttonStroke.Thickness = 2
buttonStroke.Transparency = 1
buttonStroke.Parent = verifyButton

local statusLabel = Instance.new("TextLabel")
statusLabel.Text = ""
statusLabel.Size = UDim2.new(0, 280, 0, 30)
statusLabel.Position = UDim2.new(0.5, -140, 0, 190)
statusLabel.Font = Enum.Font.Gotham
statusLabel.TextSize = 14
statusLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
statusLabel.BackgroundTransparency = 1
statusLabel.TextTransparency = 1
statusLabel.TextWrapped = true
statusLabel.Parent = mainFrame

-- Fade-in animation
local function fadeInGui()
    local tweenInfo = TweenInfo.new(0.5, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
    local frameTween = tweenService:Create(mainFrame, tweenInfo, {BackgroundTransparency = 0})
    
    for _, descendant in pairs(mainFrame:GetDescendants()) do
        if descendant:IsA("GuiObject") then
            if descendant:IsA("TextLabel") or descendant:IsA("TextButton") or descendant:IsA("TextBox") then
                tweenService:Create(descendant, tweenInfo, {TextTransparency = 0, BackgroundTransparency = 0}):Play()
            end
        elseif descendant:IsA("UIStroke") then
            tweenService:Create(descendant, tweenInfo, {Transparency = 0}):Play()
        end
    end
    
    frameTween:Play()
end

-- Fade-out animation for closing GUI
local function closeGui()
    local tweenInfo = TweenInfo.new(0.5, Enum.EasingStyle.Quad, Enum.EasingDirection.In)
    local frameTween = tweenService:Create(mainFrame, tweenInfo, {BackgroundTransparency = 1})
    
    for _, descendant in pairs(mainFrame:GetDescendants()) do
        if descendant:IsA("GuiObject") then
            if descendant:IsA("TextLabel") or descendant:IsA("TextButton") or descendant:IsA("TextBox") then
                tweenService:Create(descendant, tweenInfo, {TextTransparency = 1, BackgroundTransparency = 1}):Play()
            end
        elseif descendant:IsA("UIStroke") then
            tweenService:Create(descendant, tweenInfo, {Transparency = 1}):Play()
        end
    end
    
    frameTween:Play()
    frameTween.Completed:Connect(function()
        screenGui:Destroy()
    
end

-- Key verification function
local function verifyKey(inputKey)
    statusLabel.Text = "Verifying..."
    statusLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
    task.wait(1)
    
    local success, errorMsg = pcall(function()
        local scriptUrl = keyLookup[inputKey] and config.paidScript or config.freeScript
        local script = game:HttpGet(scriptUrl, true)
        loadstring(script)()
    end)
    
    if success then
        statusLabel.Text = "‚úÖ Loading Menu..."
        statusLabel.TextColor3 = Color3.fromRGB(0, 255, 0)
        closeGui()
    else
        statusLabel.Text = "‚ùå Error: " .. tostring(errorMsg)
        statusLabel.TextColor3 = Color3.fromRGB(255, 0, 0)
    end
end

-- Connect events
closeButton.MouseButton1Click:Connect(closeGui)
verifyButton.MouseButton1Click:Connect(function()
    verifyKey(keyInput.Text)
end)
keyInput.FocusLost:Connect(function(enterPressed)
    if enterPressed then
        verifyKey(keyInput.Text)
    end
end)
userInputService.InputBegan:Connect(function(input, gameProcessed)
    if input.KeyCode == Enum.KeyCode.Escape and not gameProcessed then
        closeGui()
    end
end)

-- Start fade-in animation
fadeInGui()
